{"version":3,"file":"menuheader.component.js","sourceRoot":"","sources":["../src/menuheader.component.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAC7D,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACjD,OAAO,gBAAgB,MAAM,qBAAqB,CAAC;AACnD,OAAO,QAAQ,MAAM,uBAAuB,CAAC;AAG7C,IAAa,UAAU,GAAvB,MAAa,UAAW,SAAQ,IAAI;IAApC;;QAGqC,UAAK,GAAW,EAAE,CAAC;QACnB,UAAK,GAAW,EAAE,CAAC;IAoCxD,CAAC;IAjCW,QAAQ;QAChB,OAAQ,IAAI,CAAC,IAAwB;aAClC,aAAa,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;aAChC,MAAM,CAAC,CAAC,CAAO,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,QAAQ,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAsB,CAAC;IACpG,CAAC;IAES,gBAAgB,CAAC,CAAC;QAC1B,IAAI,cAAc,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAO,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,QAAQ,CAAC,CAAC,CAAC;QACzE,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC9B,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;gBAC9B,YAAY,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBACvC,KAAK;qBACF,MAAM,CAAC,CAAC,IAAS,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;qBAC5D,OAAO,CAAC,CAAC,IAAS,EAAE,EAAE;oBACrB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;gBACvB,CAAC,CAAC,CAAA;aACL;SACF;QACD,IAAI,YAAY,GAAG,IAAI,WAAW,CAAC,iBAAiB,EAAE;YACpD,MAAM,EAAE;gBACN,YAAY,EAAE,YAAY;aAC3B;YACD,OAAO,EAAE,IAAI;YACb,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IACnC,CAAC;IAES,MAAM;QACd,OAAO,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;CACF,CAAA;AAvCe,0BAAe,GAAG,gBAAgB,CAAC;AAErB;IAA3B,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;yCAA2B;AAC1B;IAA3B,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;yCAA2B;AACvC;IAAd,KAAK,CAAC,MAAM,CAAC;8BAAgB,WAAW;wCAAC;AAL/B,UAAU;IADtB,aAAa,CAAC,eAAe,CAAC;GAClB,UAAU,CAwCtB;SAxCY,UAAU","sourcesContent":["import { customElement, property, query } from 'lit-element';\r\nimport { Base } from '@spectrum/sp-base';\r\nimport { MenuItem } from '@spectrum/sp-menuitem';\r\nimport menuheaderStyles from './menuheader.styles';\r\nimport template from './menuheader.template';\r\n\r\n@customElement('sp-menuheader')\r\nexport class MenuHeader extends Base {\r\n  public static componentStyles = menuheaderStyles;\r\n\r\n  @property({ type: String }) public title: string = '';\r\n  @property({ type: String }) public width: string = '';\r\n  @query('slot') private slot!: HTMLElement;\r\n\r\n  protected getItems(): MenuItem[] {\r\n    return (this.slot as HTMLSlotElement)\r\n      .assignedNodes({ flatten: true })\r\n      .filter((e: Node) => (e instanceof MenuItem && !e.divider && !e.disabled)) as any as MenuItem[];\r\n  }\r\n\r\n  protected handleSlotChange(e) {\r\n    let currentElement = e.path.filter((e: Node) => (e instanceof MenuItem));\r\n    let selectedItem = '';\r\n    if (this.slot) {\r\n      const items = this.getItems();\r\n      if (currentElement[0].selected) {\r\n        selectedItem = currentElement[0].label;\r\n        items\r\n          .filter((item: any) => item.label != currentElement[0].label)\r\n          .forEach((item: any) => {\r\n            item.selected = false\r\n          })\r\n      }\r\n    }\r\n    let changedEvent = new CustomEvent('slectionChanged', {\r\n      detail: {\r\n        selectedItem: selectedItem\r\n      },\r\n      bubbles: true,\r\n      composed: true\r\n    });\r\n    this.dispatchEvent(changedEvent);\r\n  }\r\n\r\n  protected render() {\r\n    return template.call(this);\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'sp-menuheader': MenuHeader;\r\n  }\r\n}\r\n"]}